
**TN comment: I've removed the YAML beginning with output:**.

---
title: "R assessment"
author: "Sadia"
date: "2022-11-17"
output: html_document
---

**TN comment: Notice that in an .Rmd document, you don't need to add # for comments.** 

This is the dieback scores data that was collected at different sites to differentiate between healthy and dieback trees. More the dieback severity scores  healthy will be the the tree and vice versa. There were paired and paired sites. Paired sites had both healthy and dieback trees while unpaired sites had only healthy trees. Five parameters like Crown size, foliar density, dead branches, epicormic growth and foliar damage were observed by standing infronty of tree and dieback severity score was calculated by following stone et al., 2008


Load the packages
**TN comment: Put all packages in this R chunk. You don't need to add readr. It is loaded when you load tidyverse. Add message=FALSE to suppress these messages in this chunk.**
```{r message=FALSE}
library(gtsummary)
library(tidyverse)
```


Load the data. **TN comment: make sure you set up a project, create a data folder. Please don't keep data in a Downloads folder. I've changed the
script to match my directory structure.**
```{r message=FALSE}
Dieback2022 <- read_csv("data/Dieback_ 2022.csv")
```
View data **TN comment: Don't put View() in the .rmd file. It won't compile correctly.**
```{r}
#view(Dieback2022)
```


Informative summary of the data. glimpse tells us what kind of variables are there in rows, columns.
```{r}
glimpse(Dieback2022)
```


tbl_summary gives us overview of how many trees were sampled at each site, Also it gave us summary about how paired and unpaired sites account for out of total sampling percentage.

**TN comment: Remove Health and tree ID columns before running summary stats. Otherwise, you get a lot of meaningless data. Maybe you prefer to summarise by Site or by Health Status?**
```{r}
#tbl_summary(Dieback2022)

Dieback2022 %>%
  select(-c(Health, `Tree No`)) %>%
  tbl_summary(by = Site)
```


str alterantive to summary 

**TN comment: str() is alternative to glimpse()**
```{r}
str(Dieback2022)
```


P1 to P9 diffent ways of showing data


P1 is showing what are the diebackscores at each site along with the health statud of trees
```{r}
P1 <- ggplot(data = Dieback2022, aes(x= `Crown _Size`, y= Dieback_Scores, colour = Site, shape= Health_Status)) + geom_jitter() 
P1
```

We divided all the sites into paired (healthy+dieback) sites and unpaired (healthy)sites. 
To do the black and white theme  i used theme_bw command

P2 showing instead of all sites i divided sites into paired and unpaired because my research qiestion is what is there any variation of dieback scores among paired/unpaired sites and within sites?
```{r}
P2 <- ggplot(data = Dieback2022, aes(x= `Crown _Size`, y= Dieback_Scores, colour = `Pairing Approach` , shape= Health_Status)) + geom_jitter() 
P2
P2 + theme_bw() 
```


Boxplot can't be of different shapes so we opt out the shape (dieback and healthy options)
```{r}
P3 <- ggplot(data = Dieback2022, aes(x= `Crown _Size`, y= Dieback_Scores, colour= Site)) + geom_boxplot()
P3
```


P3-P4 Facet wrap is good to add to see more variation among paired and unpaired sites.
```{r  warning = FALSE}
P3 <- ggplot(data = Dieback2022, aes(x= `Crown _Size`, y= Dieback_Scores,colour = `Pairing Approach`, shape = Health_Status)) +
  geom_smooth() +
  geom_jitter(height = 0, width = 0.2) +
  facet_wrap(~`Pairing Approach`)
P3
```


P4
```{r}
P4 <- ggplot(data = Dieback2022, aes(x= `Crown _Size`, y= Dieback_Scores, colour =`Pairing Approach`, shape = Health_Status)) +
  geom_jitter (height = 0, width = 0.2) +
  geom_smooth(method = "lm") +
  facet_wrap(~`Pairing Approach`) + 
  theme_bw (base_size = 14) +
  ylab("Dieback Scores") + xlab("Crown Size")
P4
```

To see which variable can be the good predictor of dieback score P5-P9 Crown size vs dieback score
```{r}
P5 <- ggplot(data = Dieback2022, aes (x= `Crown _Size`, y= Dieback_Scores, colour = Health_Status)) + scale_colour_manual(values = c("green", "blue")) +
  geom_jitter(height = 0, width = 0.2) +
  geom_smooth(method = "lm") +
  facet_wrap(~`Pairing Approach`) + 
  theme_bw(base_size = 14) +
  ylab("Dieback Scores") + xlab("Crown Size")
P5
```


## Foliar_Density VS Dieback_Scores
```{r}
P6 <- ggplot(data = Dieback2022, aes(x= Foliar_Density, y= Dieback_Scores, colour= Health_Status)) + scale_colour_manual(values = c("red", "orange")) +
  geom_jitter(height = 0, width = 0.2)+
  geom_smooth(method = "lm")+
  facet_wrap(~`Pairing Approach`)+ 
  theme_bw(base_size = 14) +
  ylab("Dieback Scores") + xlab ("Foliar Density")
P6
```


## Foliar Damage Vs Diaback Scores
```{r}
P7 <- ggplot (data = Dieback2022,  aes (x= Foliar_Damage, y= Dieback_Scores, colour= Health_Status)) + scale_colour_manual(values = c("navyblue", "pink")) +
  geom_jitter(height = 0, width = 0.2)+
  geom_smooth(method = "lm")+
  facet_wrap(~`Pairing Approach`)+ 
  theme_bw(base_size = 14) +
  ylab("Dieback Scores") + xlab ("Foliar Damage")
P7
```


## Epicormic_Growth VS Dieback scores 
```{r}
P8 <- ggplot (data = Dieback2022, aes(x=Epicormic_Growth, y=Dieback_Scores, colour = Health_Status)) + scale_colour_manual(values = c("mediumorchid", "palegreen1")) +
  geom_jitter(height = 0, width = 0.2)+
  geom_smooth(method = "lm")+
  facet_wrap(~`Pairing Approach`)+ 
  theme_bw(base_size = 14) +
  ylab("Dieback Scores") + xlab ("Epicormic Growth")
P8
```

## DeadBranches VS Diabackscores
```{r}
P9 <- ggplot(data = Dieback2022, aes(x= Dead_Branches, y= Dieback_Scores, colour= Health_Status)) + scale_colour_manual(values = c("paleturquoise", "rosybrown4")) +
  geom_jitter(height = 0, width = 0.2)+
  geom_smooth(method = "lm")+
  facet_wrap(~`Pairing Approach`)+ 
  theme_bw(base_size = 14) +
  ylab("Dieback Scores") + xlab ("Dead Branches")
P9
```

 **TN comment: You can create a single graphic using ggpairs() in the GGally package.**
```{r message=FALSE, warning=FALSE}
library(GGally)
Dieback2022 %>%
  select(`Pairing Approach`,`Crown _Size`,Foliar_Density,Foliar_Damage, Epicormic_Growth, Dead_Branches, Dieback_Scores) %>%
  ggpairs(columns = 2:7, aes(col = `Pairing Approach`))
```
 
 